{"version":3,"sources":["webpack:///./node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","webpack:///./node_modules/@babel/runtime/helpers/esm/iterableToArray.js","webpack:///./node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","webpack:///./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","webpack:///./node_modules/core-js/modules/es.array.concat.js","webpack:///./src/views/ViewBook.vue?6558","webpack:///src/views/ViewBook.vue","webpack:///./src/views/ViewBook.vue?fdf3","webpack:///./src/views/ViewBook.vue","webpack:///./src/views/ViewBook.vue?a0c4"],"names":["_arrayWithoutHoles","arr","Array","isArray","arrayLikeToArray","_iterableToArray","iter","Symbol","iterator","Object","from","_nonIterableSpread","TypeError","_toConsumableArray","arrayWithoutHoles","iterableToArray","unsupportedIterableToArray","nonIterableSpread","$","fails","isObject","toObject","toLength","createProperty","arraySpeciesCreate","arrayMethodHasSpeciesSupport","wellKnownSymbol","V8_VERSION","IS_CONCAT_SPREADABLE","MAX_SAFE_INTEGER","MAXIMUM_ALLOWED_INDEX_EXCEEDED","IS_CONCAT_SPREADABLE_SUPPORT","array","concat","SPECIES_SUPPORT","isConcatSpreadable","O","spreadable","undefined","FORCED","target","proto","forced","arg","i","k","length","len","E","this","A","n","arguments","render","_vm","_h","$createElement","_c","_self","attrs","staticClass","on","showFullImgModal","getUrl","bookParams","coverImg","getName","_l","img","key","$event","showImage","closeModal","_v","listImages","currentImgIndex","_e","exportToPDF","onEdit","_s","author","title","isPublic","weight","size","l","w","h","formatEdition","ISBN","vendorCode","numberOfPages","coverType","paperType","authorOnTheCover","publishingHouse","yearOfIssue","language","series","description","staticRenderFns","component"],"mappings":"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","file":"js/chunk-22ddd7ec.91db0456.js","sourcesContent":["import arrayLikeToArray from \"./arrayLikeToArray\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import arrayWithoutHoles from \"./arrayWithoutHoles\";\nimport iterableToArray from \"./iterableToArray\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray\";\nimport nonIterableSpread from \"./nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","'use strict';\nvar $ = require('../internals/export');\nvar fails = require('../internals/fails');\nvar isArray = require('../internals/is-array');\nvar isObject = require('../internals/is-object');\nvar toObject = require('../internals/to-object');\nvar toLength = require('../internals/to-length');\nvar createProperty = require('../internals/create-property');\nvar arraySpeciesCreate = require('../internals/array-species-create');\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar V8_VERSION = require('../internals/engine-v8-version');\n\nvar IS_CONCAT_SPREADABLE = wellKnownSymbol('isConcatSpreadable');\nvar MAX_SAFE_INTEGER = 0x1FFFFFFFFFFFFF;\nvar MAXIMUM_ALLOWED_INDEX_EXCEEDED = 'Maximum allowed index exceeded';\n\n// We can't use this feature detection in V8 since it causes\n// deoptimization and serious performance degradation\n// https://github.com/zloirock/core-js/issues/679\nvar IS_CONCAT_SPREADABLE_SUPPORT = V8_VERSION >= 51 || !fails(function () {\n  var array = [];\n  array[IS_CONCAT_SPREADABLE] = false;\n  return array.concat()[0] !== array;\n});\n\nvar SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('concat');\n\nvar isConcatSpreadable = function (O) {\n  if (!isObject(O)) return false;\n  var spreadable = O[IS_CONCAT_SPREADABLE];\n  return spreadable !== undefined ? !!spreadable : isArray(O);\n};\n\nvar FORCED = !IS_CONCAT_SPREADABLE_SUPPORT || !SPECIES_SUPPORT;\n\n// `Array.prototype.concat` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.concat\n// with adding support of @@isConcatSpreadable and @@species\n$({ target: 'Array', proto: true, forced: FORCED }, {\n  concat: function concat(arg) { // eslint-disable-line no-unused-vars\n    var O = toObject(this);\n    var A = arraySpeciesCreate(O, 0);\n    var n = 0;\n    var i, k, length, len, E;\n    for (i = -1, length = arguments.length; i < length; i++) {\n      E = i === -1 ? O : arguments[i];\n      if (isConcatSpreadable(E)) {\n        len = toLength(E.length);\n        if (n + len > MAX_SAFE_INTEGER) throw TypeError(MAXIMUM_ALLOWED_INDEX_EXCEEDED);\n        for (k = 0; k < len; k++, n++) if (k in E) createProperty(A, n, E[k]);\n      } else {\n        if (n >= MAX_SAFE_INTEGER) throw TypeError(MAXIMUM_ALLOWED_INDEX_EXCEEDED);\n        createProperty(A, n++, E);\n      }\n    }\n    A.length = n;\n    return A;\n  }\n});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.isLoading)?_c('modal',[_c('spinner',{attrs:{\"text\":\"загрузка\"}})],1):_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-sm-6\",on:{\"click\":_vm.showFullImgModal}},[_c('img',{staticClass:\"img-fluid\",attrs:{\"src\":_vm.getUrl(_vm.bookParams.coverImg),\"alt\":_vm.getName(_vm.bookParams.coverImg)}}),_c('div',_vm._l((_vm.bookParams.images),function(img){return _c('img',{key:_vm.getUrl(img),attrs:{\"width\":'25%',\"src\":_vm.getUrl(img),\"alt\":_vm.getName(img)}})}),0)]),(_vm.isShowAllImg)?_c('modal',[_c('a',{staticClass:\"carousel-control-prev\",on:{\"click\":function($event){return _vm.showImage(-1)}}},[_c('span',{staticClass:\"carousel-control-prev-icon\"})]),_c('div',{staticClass:\"d-flex align-items-center flex-column\"},[_c('button',{staticClass:\"btn bg-transparent border-light text-white mb-3\",on:{\"click\":_vm.closeModal}},[_vm._v(\" Закрыть \")]),_c('img',{staticClass:\"rounded mx-auto d-block\",attrs:{\"src\":_vm.getUrl(_vm.listImages[_vm.currentImgIndex]),\"alt\":_vm.getName(_vm.listImages[_vm.currentImgIndex])}})]),_c('a',{staticClass:\"carousel-control-next\",on:{\"click\":function($event){return _vm.showImage(1)}}},[_c('span',{staticClass:\"carousel-control-next-icon\"})])]):_vm._e(),_c('div',{staticClass:\"col-sm-6\"},[_c('div',{staticClass:\"text-right\"},[_c('font-awesome-icon',{attrs:{\"icon\":\"file-pdf\",\"size\":\"2x\"},on:{\"click\":_vm.exportToPDF}}),(_vm.isAdmin)?_c('font-awesome-icon',{attrs:{\"icon\":\"edit\",\"size\":\"2x\"},on:{\"click\":_vm.onEdit}}):_vm._e()],1),_c('h4',[_vm._v(_vm._s(_vm.bookParams.author))]),_c('h2',[_vm._v(_vm._s(_vm.bookParams.title))]),_c('table',{staticClass:\"table table-bordered table-sm\"},[_c('tbody',[(_vm.isPublic('weight'))?_c('tr',[_c('td',[_vm._v(\"Вес в упаковке\")]),_c('td',[_vm._v(_vm._s(_vm.bookParams.weight))])]):_vm._e(),(_vm.isPublic('size'))?_c('tr',[_c('td',[_vm._v(\"Размер (ДхШхВ)\")]),_c('td',[_vm._v(_vm._s(_vm.bookParams.size.l)+\"x\"+_vm._s(_vm.bookParams.size.w)+\"x\"+_vm._s(_vm.bookParams.size.h)+\" мм\")])]):_vm._e(),(_vm.isPublic('formatEdition'))?_c('tr',[_c('td',[_vm._v(\"Формат издания\")]),_c('td',[_vm._v(_vm._s(_vm.bookParams.formatEdition))])]):_vm._e(),(_vm.isPublic('ISBN'))?_c('tr',[_c('td',[_vm._v(\"ISBN\")]),_c('td',[_vm._v(_vm._s(_vm.bookParams.ISBN))])]):_vm._e(),(_vm.isPublic('vendorCode'))?_c('tr',[_c('td',[_vm._v(\"Артикул\")]),_c('td',[_vm._v(_vm._s(_vm.bookParams.vendorCode))])]):_vm._e(),(_vm.isPublic('numberOfPages'))?_c('tr',[_c('td',[_vm._v(\"Количество страниц\")]),_c('td',[_vm._v(_vm._s(_vm.bookParams.numberOfPages))])]):_vm._e(),(_vm.isPublic('coverType'))?_c('tr',[_c('td',[_vm._v(\"Тип обложки\")]),_c('td',[_vm._v(_vm._s(_vm.bookParams.coverType))])]):_vm._e(),(_vm.isPublic('paperType'))?_c('tr',[_c('td',[_vm._v(\"Тип бумаги\")]),_c('td',[_vm._v(_vm._s(_vm.bookParams.paperType))])]):_vm._e(),(_vm.isPublic('authorOnTheCover'))?_c('tr',[_c('td',[_vm._v(\"Автор на обложке\")]),_c('td',[_vm._v(_vm._s(_vm.bookParams.authorOnTheCover))])]):_vm._e(),(_vm.isPublic('publishingHouse'))?_c('tr',[_c('td',[_vm._v(\"Издательство\")]),_c('td',[_vm._v(_vm._s(_vm.bookParams.publishingHouse))])]):_vm._e(),(_vm.isPublic('yearOfIssue'))?_c('tr',[_c('td',[_vm._v(\"Год выпуска\")]),_c('td',[_vm._v(_vm._s(_vm.bookParams.yearOfIssue))])]):_vm._e(),(_vm.isPublic('language'))?_c('tr',[_c('td',[_vm._v(\"Язык издания\")]),_c('td',[_vm._v(_vm._s(_vm.bookParams.language))])]):_vm._e(),(_vm.isPublic('series'))?_c('tr',[_c('td',[_vm._v(\"Серия\")]),_c('td',[_vm._v(_vm._s(_vm.bookParams.series))])]):_vm._e()])])]),(_vm.isPublic('description'))?_c('div',{staticClass:\"col\"},[_vm._v(\" \"+_vm._s(_vm.bookParams.description)+\" \")]):_vm._e()],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div>\n\n        <modal v-if=\"isLoading\">\n            <spinner text=\"загрузка\"></spinner>\n        </modal>\n\n        <div class=\"row\" v-else>\n            <div class=\"col-sm-6\" @click=\"showFullImgModal\">\n                <img :src=\"getUrl(bookParams.coverImg)\"\n                     :alt=\"getName(bookParams.coverImg)\"\n                     class=\"img-fluid\"/>\n\n                <div>\n                    <img v-for=\"img of bookParams.images\"\n                         :width=\"'25%'\"\n                         :key=\"getUrl(img)\"\n                         :src=\"getUrl(img)\"\n                         :alt=\"getName(img)\"/>\n                </div>\n\n            </div>\n\n            <modal v-if=\"isShowAllImg\">\n                <a class=\"carousel-control-prev\" @click=\"showImage(-1)\">\n                    <span class=\"carousel-control-prev-icon\"></span>\n                </a>\n\n                <div class=\"d-flex align-items-center flex-column\">\n                    <button class=\"btn bg-transparent border-light text-white mb-3\" @click=\"closeModal\">\n                        Закрыть\n                    </button>\n\n                    <img class=\"rounded mx-auto d-block\"\n                        :src=\"getUrl(listImages[currentImgIndex])\"\n                         :alt=\"getName(listImages[currentImgIndex])\"/>\n                </div>\n\n                <a class=\"carousel-control-next\" @click=\"showImage(1)\">\n                    <span class=\"carousel-control-next-icon\"></span>\n                </a>\n            </modal>\n\n            <div class=\"col-sm-6\">\n\n                <div class=\"text-right\">\n                    <font-awesome-icon icon=\"file-pdf\" size='2x' @click=\"exportToPDF\"/>\n                    <font-awesome-icon icon=\"edit\" size='2x' v-if=\"isAdmin\" @click=\"onEdit\"/>\n                </div>\n\n                <h4>{{bookParams.author}}</h4>\n                <h2>{{bookParams.title}}</h2>\n\n                <table class=\"table table-bordered table-sm\">\n                    <tbody>\n                        <tr v-if=\"isPublic('weight')\">\n                            <td>Вес в упаковке</td>\n                            <td>{{bookParams.weight}}</td>\n                        </tr>\n                        <tr v-if=\"isPublic('size')\">\n                            <td>Размер (ДхШхВ)</td>\n                            <td>{{bookParams.size.l}}x{{bookParams.size.w}}x{{bookParams.size.h}} мм</td>\n                        </tr>\n                        <tr v-if=\"isPublic('formatEdition')\">\n                            <td>Формат издания</td>\n                            <td>{{bookParams.formatEdition}}</td>\n                        </tr>\n                        <tr v-if=\"isPublic('ISBN')\">\n                            <td>ISBN</td>\n                            <td>{{bookParams.ISBN}}</td>\n                        </tr>\n                        <tr v-if=\"isPublic('vendorCode')\">\n                            <td>Артикул</td>\n                            <td>{{bookParams.vendorCode}}</td>\n                        </tr>\n                        <tr v-if=\"isPublic('numberOfPages')\">\n                            <td>Количество страниц</td>\n                            <td>{{bookParams.numberOfPages}}</td>\n                        </tr>\n                        <tr v-if=\"isPublic('coverType')\">\n                            <td>Тип обложки</td>\n                            <td>{{bookParams.coverType}}</td>\n                        </tr>\n                        <tr v-if=\"isPublic('paperType')\">\n                            <td>Тип бумаги</td>\n                            <td>{{bookParams.paperType}}</td>\n                        </tr>\n                        <tr v-if=\"isPublic('authorOnTheCover')\">\n                            <td>Автор на обложке</td>\n                            <td>{{bookParams.authorOnTheCover}}</td>\n                        </tr>\n                        <tr v-if=\"isPublic('publishingHouse')\">\n                            <td>Издательство</td>\n                            <td>{{bookParams.publishingHouse}}</td>\n                        </tr>\n                        <tr v-if=\"isPublic('yearOfIssue')\">\n                            <td>Год выпуска</td>\n                            <td>{{bookParams.yearOfIssue}}</td>\n                        </tr>\n                        <tr v-if=\"isPublic('language')\">\n                            <td>Язык издания</td>\n                            <td>{{bookParams.language}}</td>\n                        </tr>\n                        <tr v-if=\"isPublic('series')\">\n                            <td>Серия</td>\n                            <td>{{bookParams.series}}</td>\n                        </tr>\n                    </tbody>\n                </table>\n            </div>\n\n            <div class=\"col\" v-if=\"isPublic('description')\">\n                {{bookParams.description}}\n            </div>\n        </div>\n\n    </div>    \n</template>\n\n<script>\n    import { getDataFromDB } from \"../js/db.js\";\n    import mixin from '../js/mixins.js';\n    import Spinner from '../components/Spinner.vue';\n    import Modal from '../components/Modal.vue';\n\n    export default {\n        name: \"ViewBook\",\n\n        mixins: [mixin],\n\n        components: {\n            'spinner': Spinner,\n            'modal': Modal\n        },\n\n        data() {\n            return {\n                isLoading: false,\n                isShowAllImg: false,\n\n                bookParams: {},\n\n                publicFields: [],\n\n                listImages: [],\n                currentImgIndex: -1\n            }\n        },\n\n        computed: {\n            isPublic: (vm) => {\n                return (value) => {\n                    return vm.publicFields.includes(value);\n                }\n            },\n\n            getUrl: () => {\n                return (value) => {\n                    if(!value) {\n                        return '@/assets/logo.png'\n                    }\n                    return value.url;\n                }\n            },\n\n            getName: () => {\n                return (value) => {\n                    if (!value) {\n                        return ''\n                    }\n                    return value.name;\n                }\n            }\n        },\n\n        mounted() {\n            this.getBookParams();\n            this.getPublicFields();\n        },\n\n        methods: {\n            getBookParams() {\n                this.isLoading = true;\n\n                /*getDataFromDB('settings', 'isPublic', '==', true)\n                    .then((res) => {\n                        res.forEach((setting) =>\n                            this.publicFields.push(setting.id)\n                        );\n\n                        this.isLoading = false;\n                    });\n*/\n              //  const bookIndex = +this.$route.params.id;\n\n                const id = this.$store.state.currentBookId;\n\n                if (!id) {\n                    this.$router.push('/list')\n                } else {\n                    getDataFromDB('catalog', 'id', '==', id)\n                        .then((res) => {\n                            this.bookParams = Object.assign({}, this.bookParams, res[0]);\n\n                            this.isLoading = false;\n                        })\n                }\n            },\n\n            getPublicFields() {\n                let settings = this.$store.state.settings;\n\n                if (settings.length !== 0) {\n                    settings.forEach(setting => {\n                        if (setting.isPublic) {\n                            return this.publicFields.push(setting.id)\n                        }\n                    });\n                }\n            },\n\n            exportToPDF() {\n\n            },\n\n            onEdit() {\n                this.$router.push(this.$route.path + '/edit')\n            },\n\n            showFullImgModal() {\n                this.listImages = [this.bookParams.coverImg, ...this.bookParams.images];\n\n                if (this.listImages.length > 0) {\n                    this.isShowAllImg = true;\n                    this.currentImgIndex = 0;\n                }\n            },\n\n            showImage(trigger) {\n                const lenght = this.listImages.length;\n\n                if (trigger > 0) {\n                    this.currentImgIndex = (this.currentImgIndex !== lenght - 1) ? this.currentImgIndex + 1 : 0;\n                } else {\n                    this.currentImgIndex = (this.currentImgIndex !== 0) ? this.currentImgIndex - 1 : lenght - 1;\n                }\n            },\n\n            closeModal() {\n                this.isShowAllImg = false;\n            }\n        }\n\n    }\n</script>\n\n<style scoped>\n    .custom-modal > div {\n        max-width: 90%;\n        max-height: 90%;\n    }\n\n    .custom-modal > div > img {\n        width: auto;\n        height: auto;\n    }\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ViewBook.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ViewBook.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ViewBook.vue?vue&type=template&id=0def1dce&scoped=true&\"\nimport script from \"./ViewBook.vue?vue&type=script&lang=js&\"\nexport * from \"./ViewBook.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ViewBook.vue?vue&type=style&index=0&id=0def1dce&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0def1dce\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ViewBook.vue?vue&type=style&index=0&id=0def1dce&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ViewBook.vue?vue&type=style&index=0&id=0def1dce&scoped=true&lang=css&\""],"sourceRoot":""}